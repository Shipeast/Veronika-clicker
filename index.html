<!doctype html>
<html lang="cs">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ZOB clicker</title>
<style>
:root{
  --bg:#0f1720; --card:#1e1e2f; --accent:#22c55e; --muted:#9ca3af;
  --common:#777; --rare:#3b82f6; --epic:#a855f7; --legendary:#fbbf24; --mythic:#ff00ff;
}
body{
  margin:0; background:var(--bg); font-family:system-ui,sans-serif;
  display:flex; justify-content:center; align-items:center; min-height:100vh; color:#e7eef6;
}
.wrap{width:100%;max-width:960px;padding:20px;box-sizing:border-box}
.card{
  display:grid;grid-template-columns:280px 1fr;gap:20px;
  background:var(--card);padding:20px;border-radius:16px;
  box-shadow:0 0 40px rgba(0,0,0,0.7);
}
.click-area{
  background:#0b1120;padding:15px;border-radius:16px;
  display:flex;flex-direction:column;align-items:center;
  position:relative;overflow:hidden;transition:box-shadow .3s;
}
.click-img{
  width:200px;height:200px;object-fit:contain;cursor:pointer;
  border-radius:12px;transition:transform .08s, filter .12s;
}
.click-img:active{transform:scale(.92);}
.big-score{font-size:38px;font-weight:bold;color:#FF8DA1;margin-top:10px}
.muted{color:var(--muted);font-size:13px}
.panel{display:flex;flex-direction:column;gap:12px}
.row{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px;background:rgba(255,255,255,0.05);border-radius:8px
}
.btn{
  cursor:pointer;padding:8px 14px;border-radius:10px;background:rgba(255,255,255,0.1);
  border:0;color:white;font-weight:bold;transition:all .2s;
}
.btn:hover{background:rgba(255,255,255,0.2);transform:scale(1.05);}
.btn:disabled{opacity:.45;cursor:not-allowed;}
.shop{display:flex;flex-direction:column;gap:10px;margin-top:10px}
.shop-item{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px;background:rgba(255,255,255,0.05);border-radius:10px;transition:all .2s;
}
.shop-item:hover{background:rgba(255,255,255,0.12)}
.pop{
  position:absolute;pointer-events:none;font-weight:bold;color:#FF8DA1;
  animation:pop .7s forwards;
}
@keyframes pop{
  0%{opacity:1;transform:translateY(0) scale(1)}
  100%{opacity:0;transform:translateY(-45px) scale(1.3)}
}

.rarity-common { box-shadow:0 0 25px 5px var(--common); }
.rarity-rare { box-shadow:0 0 30px 8px var(--rare)aa; }
.rarity-epic { box-shadow:0 0 40px 10px var(--epic)aa; }
.rarity-legendary { box-shadow:0 0 55px 14px var(--legendary)aa; }
.rarity-mythic { box-shadow:0 0 70px 20px var(--mythic)aa; }

/* Mythic explosion */
.explosion{
  position:absolute; width:160px; height:160px;
  background:radial-gradient(circle, rgba(255,0,255,0.8) 0%, rgba(0,0,0,0) 70%);
  animation:boom .35s forwards; pointer-events:none;
}
@keyframes boom{
  0%{transform:scale(0.2);opacity:1}
  100%{transform:scale(2.8);opacity:0}
}

.lockBtnLocked{
  background:#ff00ff88 !important;
}

@media(max-width:720px){.card{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <div class="click-area" id="clickArea">
      <img src="IMG_3480.png" id="clickImg" class="click-img" alt="Klikni">
      <div class="muted">Kliky celkem</div>
      <div class="big-score" id="scoreDisplay">0</div>
      <button class="btn" id="lockBtn">üîì Skin nen√≠ zamknut√Ω</button>
    </div>

    <div class="panel">
      <div class="row"><div>Za klik</div><div class="muted" id="perClick">+1</div></div>
      <div class="row"><div>Auto CPS</div><div class="muted" id="cpsDisplay">0 /s</div></div>

      <button class="btn" id="resetBtn">Reset</button>

      <div class="shop">
        <div class="muted">Obchod</div>
        <div class="shop-item"><div><strong>Mal√Ω bonus</strong><br><span class="muted">+1 za klik</span></div><button class="btn" id="buySmall">50</button></div>
        <div class="shop-item"><div><strong>Velk√Ω bonus</strong><br><span class="muted">+5 za klik</span></div><button class="btn" id="buyBig">400</button></div>
        <div class="shop-item"><div><strong>Ultra bonus</strong><br><span class="muted">+20 za klik</span></div><button class="btn" id="buyUltra">2000</button></div>
        <div class="shop-item"><div><strong>Mega auto</strong><br><span class="muted">+5 CPS</span></div><button class="btn" id="buyMegaAuto">1500</button></div>
        <div class="shop-item"><div><strong>Hyper auto</strong><br><span class="muted">+20 CPS</span></div><button class="btn" id="buyHyperAuto">8000</button></div>
        <div class="shop-item"><div><strong>Lootbox (Skin)</strong><br><span class="muted">N√°hodn√Ω skin</span></div><button class="btn" id="buyLoot">1000</button></div>
      </div>
    </div>
  </div>
</div>

<script>
// SOUNDS
const clickDefaultSound="uhh-anime.mp3";
const mythicSound="prasak-click.mp3";
const lootSound="tak-bojuj-ne.mp3";

function playSound(src){
  const a=new Audio(src);
  a.play().catch(()=>{});
}

// STATE
let s={points:0,perClick:1,cps:0,skinIndex:0,locked:false};
let price={small:50,big:400,ultra:2000,megaAuto:1500,hyperAuto:8000,loot:1000};

// SKINS
const skins=[
{file:"IMG_3480.png",rarity:"common",bonus:null,name:"Verƒça"},
{file:"IMG_3481.png",rarity:"common",bonus:{perClick:1},name:"Skin 1"},
{file:"IMG_3482.png",rarity:"common",bonus:{cps:1},name:"Skin 2"},
{file:"IMG_3483.png",rarity:"rare",bonus:{perClick:3},name:"Skin 3"},
{file:"IMG_3484.png",rarity:"rare",bonus:{cps:3},name:"Skin 4"},
{file:"IMG_3485.png",rarity:"epic",bonus:{perClickMult:1.3},name:"Skin 5"},
{file:"IMG_3486.png",rarity:"epic",bonus:{cpsMult:1.4},name:"Maro≈°"},
{file:"IMG_3503.png",rarity:"legendary",bonus:{perClickMult:2,cpsMult:2},name:"Mocn√Ω Ondra"},
{
  file:"IMG_3524.png",
  rarity:"mythic",
  name:"Pan uƒçitel Pr√°≈°ek",
  bonus:{
    perClickMult:4,
    cpsMult:5,
    specialSound: mythicSound,
    doubleChance:0.15
  }
}
];

// ELEMENTY
const scoreDisplay=document.getElementById("scoreDisplay");
const perClickEl=document.getElementById("perClick");
const cpsEl=document.getElementById("cpsDisplay");
const clickImg=document.getElementById("clickImg");
const clickArea=document.getElementById("clickArea");
const btnSmall=document.getElementById("buySmall");
const btnBig=document.getElementById("buyBig");
const btnUltra=document.getElementById("buyUltra");
const btnMega=document.getElementById("buyMegaAuto");
const btnHyper=document.getElementById("buyHyperAuto");
const btnLoot=document.getElementById("buyLoot");
const lockBtn=document.getElementById("lockBtn");
const resetBtn=document.getElementById("resetBtn");

// UI UPDATE
function updateUI(){
  scoreDisplay.textContent=Math.floor(s.points);
  perClickEl.textContent="+"+Math.floor(s.perClick);
  cpsEl.textContent=Math.floor(s.cps)+" /s";

  btnSmall.textContent=price.small;
  btnBig.textContent=price.big;
  btnUltra.textContent=price.ultra;
  btnMega.textContent=price.megaAuto;
  btnHyper.textContent=price.hyperAuto;
  btnLoot.textContent=price.loot;

  btnSmall.disabled=s.points<price.small;
  btnBig.disabled=s.points<price.big;
  btnUltra.disabled=s.points<price.ultra;
  btnMega.disabled=s.points<price.megaAuto;
  btnHyper.disabled=s.points<price.hyperAuto;
  btnLoot.disabled=s.points<price.loot;

  // lock button
  if(s.locked){
    lockBtn.textContent="üîí Skin zamknut√Ω";
    lockBtn.classList.add("lockBtnLocked");
  } else {
    lockBtn.textContent="üîì Skin nen√≠ zamknut√Ω";
    lockBtn.classList.remove("lockBtnLocked");
  }
}

// LOCK BUTTON
lockBtn.onclick=()=>{
  s.locked = !s.locked;
  updateUI();
  save();
};

// POP TEXT
function spawnPop(x,y,text,color="#FF8DA1"){
  const el=document.createElement("div");
  el.className="pop";
  el.style.left=x+"px";
  el.style.top=y+"px";
  el.style.color=color;
  el.textContent=text;
  clickArea.appendChild(el);
  setTimeout(()=>el.remove(),900);
}

// MYTHIC EXPLOSION
function spawnExplosion(){
  const e=document.createElement("div");
  e.className="explosion";
  e.style.left="50%";
  e.style.top="50%";
  e.style.transform="translate(-50%,-50%)";
  clickArea.appendChild(e);
  setTimeout(()=>e.remove(),400);
}

// CLICK
let lastClickTime=0;
let clickCounter=0;
const clickWarningLimit=20;

clickImg.onclick=e=>{
  clickCounter++;
  setTimeout(()=>clickCounter--,1000);
  if(clickCounter>clickWarningLimit) return;

  const skin=skins[s.skinIndex];

  // sound
  if(skin.bonus?.specialSound) playSound(skin.bonus.specialSound);
  else playSound(clickDefaultSound);

  let gain=s.perClick;

  // base bonuses
  if(skin.bonus?.perClickMult) gain*=skin.bonus.perClickMult;
  if(skin.bonus?.perClick) gain+=skin.bonus.perClick;

  // double chance
  if(skin.bonus?.doubleChance && Math.random()<skin.bonus.doubleChance){
    gain*=2;
    spawnPop(100,10,"DOUBLE!","yellow");
  }

  // mythic explosion on click
  if(skin.rarity==="mythic"){
    spawnExplosion();
  }

  s.points+=gain;
  spawnPop(e.offsetX,e.offsetY,"+"+Math.floor(gain));
  updateUI(); save();
};

// SHOP BINDINGS
btnSmall.onclick=()=>buy("small",1);
btnBig.onclick=()=>buy("big",5);
btnUltra.onclick=()=>buy("ultra",20);

btnMega.onclick=()=>{
  if(s.points<price.megaAuto) return;
  s.points-=price.megaAuto;
  s.cps+=5;
  price.megaAuto=Math.floor(price.megaAuto*1.45);
  updateUI(); save();
};
btnHyper.onclick=()=>{
  if(s.points<price.hyperAuto) return;
  s.points-=price.hyperAuto;
  s.cps+=20;
  price.hyperAuto=Math.floor(price.hyperAuto*1.4);
  updateUI(); save();
};

function buy(type,amount){
  if(s.points<price[type]) return;
  s.points-=price[type];
  s.perClick+=amount;
  price[type]=Math.floor(price[type]*1.5);
  updateUI(); save();
}

// LOOTBOX (skin reroll but blocked if locked)
btnLoot.onclick=()=>{

  const current = skins[s.skinIndex];

  if(s.locked){
    spawnPop(100,20,"Skin je zamknut√Ω!","red");
    playSound("error.mp3");
    return;
  }

  if(s.points<price.loot) return;
  s.points-=price.loot;

  playSound(lootSound);

  // Mythic 0.5 %
  let rand=Math.random();
  let i;
  if(rand<0.005) i=skins.length-1; 
  else i=Math.floor(Math.random()*(skins.length-1));

  s.skinIndex=i;

  clickImg.src=skins[i].file;
  clickArea.className="click-area rarity-"+skins[i].rarity;

  spawnPop(80,20,"Nov√Ω skin: "+skins[i].name,"#fff");

  updateUI();
  save();
};

// CPS LOOP
setInterval(()=>{
  const skin=skins[s.skinIndex];
  let gain=s.cps;
  if(skin.bonus?.cpsMult) gain*=skin.bonus.cpsMult;
  if(skin.bonus?.cps) gain+=skin.bonus.cps;
  s.points+=gain/5;
  updateUI();
},200);

// SAVE/LOAD
function save(){localStorage.setItem("clicker_game_v12",JSON.stringify(s));}
function load(){
  const r=localStorage.getItem("clicker_game_v12");
  if(!r) return;
  try{
    Object.assign(s,JSON.parse(r));
    clickImg.src=skins[s.skinIndex].file;
    clickArea.className="click-area rarity-"+skins[s.skinIndex].rarity;
  }catch{}
}

resetBtn.onclick=()=>{
  if(!confirm("Opravdu resetovat v≈°e?")) return;
  localStorage.removeItem("clicker_game_v12");
  location.reload();
};

// INIT
load(); updateUI();
</script>

</body>
</html>
